<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- <link rel="manifest" href="manifest.json"> -->

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="index.css">

    <link rel="icon" href="favicon.jpg" type="images/x-icon">
    <script src="https://kit.fontawesome.com/42c0bb4347.js" crossorigin="anonymous"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Heebo:wght@300;400&family=Karla:ital,wght@0,400;0,500;1,400&family=Lato:ital,wght@0,300;0,400;1,100;1,300&family=Merriweather:wght@300;400;700&family=Noto+Sans&family=Oxygen:wght@300;400&family=Quicksand:wght@300;400&family=Raleway:ital,wght@0,300;0,400;0,500;1,300&family=Roboto+Serif:wght@100;400&family=Rubik:wght@300;400;700&family=Ubuntu:wght@300;400;700&display=swap" rel="stylesheet">

    <!-- Self js -->
    <script type="module">
      import {ToggleNavbar,Login,Logout,FilterYearDropdown,
        FilterGenreDropdown,ToggleSort} from './index.js';
        
      import {PopulatePageNumbers,PopulateCards, NextPage, PrevPage,ChangePage} from './content_handler.js';

      import {ToggleTheme} from './theme_toggler.js';


      window._fns = {ToggleTheme,ChangePage,ToggleNavbar,Login,Logout,FilterYearDropdown,
        FilterGenreDropdown,ToggleSort,PopulateCards, NextPage, PrevPage};
      
      let total_movies = await PopulateCards();
      
      PopulatePageNumbers(total_movies);

      if (localStorage.getItem('site-theme')==1){
      localStorage.setItem('site-theme',0);
      ToggleTheme();}


    </script>


    <title>Review Reel</title>
  </head>
  <body>

    <!-- <div class="navbar-collapse-wrapper collapse collapse-horizontal" id="navbar-collapse-wrapper">      
      <div class="navbar-btns-collapse"  data-toggle="collapse" data-target="#navbar-collapse-wrapper" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
        <ul class="nav nav-pills">
          <li class="nav-item navbar-btn no-login-btn ">
            <a class="nav-link " href="#" onclick=window._fns.Login()>Login</a>
          </li>
          <li class="nav-item navbar-btn no-login-btn ">
            <a class="nav-link" href="#">Register</a>
          </li>
          <li class="nav-item navbar-btn login-btn no-display">
            <a class="nav-link" href="#">Home</a>
          </li>
          <li class="nav-item navbar-btn login-btn no-display">
            <a class="nav-link" href="#" onclick=window._fns.Logout()>Logout</a>
          </li>
        </ul>
        
        <a href="profile.html" class="login-btn no-display navbar-profile-img">
          <img  src="assets/profile-pic.jpeg" alt="profile pic" >
        </a>
      </div>
      
    </div> -->


    <section id="navbar">
      <nav class="navbar navbar-dark">
          <div class="navbar-toggle">
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapse-wrapper" aria-controls="navbarToggleExternalContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>
          </div>
          <div class="site-theme-toggle">
            <i class="fa-solid fa-moon icon-theme fa-2xl" onclick = window._fns.ToggleTheme()></i>
          </div>
          
          <a href="index.html" class="site-logo-div">
            <img src="Review Reel-dark.jpg" alt="Review Reel Logo" class="site-logo-img" >
          </a>
          

          <!-- <div class="navbar-buttons"> -->
            <div class="navbar-btns">

              <ul class="nav nav-pills">
                <li class="nav-item navbar-btn no-login-btn ">
                  <a class="nav-link " href="#" onclick=window._fns.Login()>Login</a>
                </li>
                <li class="nav-item navbar-btn no-login-btn ">
                  <a class="nav-link" href="#">Register</a>
                </li>
                <li class="nav-item navbar-btn login-btn no-display">
                  <a class="nav-link" href="#">Home</a>
                </li>
                <li class="nav-item navbar-btn login-btn no-display">
                  <a class="nav-link" href="#" onclick=window._fns.Logout()>Logout</a>
                </li>
              </ul>
              
              <a href="profile.html" class="login-btn no-display navbar-profile-img">
                <img  src="assets/profile-pic.jpeg" alt="profile pic" >
              </a>
              
              
              <!-- <button class="btn btn-primary btn-lg login-btn" type="submit">Login</button>
              <button class="btn btn-primary btn-lg " type="submit">Register</button>

              <button class="btn btn-primary btn-lg no-display" type="submit">Home</button> -->
              

            </div>

            
            
          <!-- </div> -->
          
            
      </nav>
    </section>

    
  

    <section id="main-body">
      <div class="main-body-div">  
          
          <div class="content-header container-fluid">
            <div class="row">

              <div class="col-lg-6 col-md-12" id="browse">
                <h3 class= "content-header-div">Browse By</span>
                  <div class="col" id="browse-filters">
                    <select class="filter-select year" id="filter-year" onclick=window._fns.FilterYearDropdown() onchange=window._fns.PopulateCards()>
                      <option value="year" selected>Year (All)</option>
                    </select>
    
                    <select class="filter-select genre" id="filter-genre" onclick=window._fns.FilterGenreDropdown() onchange=window._fns.PopulateCards()>
                      <option value="genre" selected>Genre (All)</option>
                    </select>
    
                    <div class="filter-select ratings"  onclick=window._fns.ToggleSort("ratings-sort")>
                      <span>Ratings</span>
                      <i class="fa-solid fa-sort fa-xl" id="ratings-sort" onchange=window._fns.PopulateCards()></i>
                    </div>
    
                    <div class="filter-select views" onclick=window._fns.ToggleSort("views-sort")>
                      <span>Views</span>
                      <i class="fa-solid fa-sort fa-xl" id="views-sort" onchange=window._fns.PopulateCards()></i>
                    </div>
    
                  </div>
              </div>

              <div class="col-lg-6 col-sm-12" id="search">
                <h3 class= "content-header-div">Search a Film</h3>
                  <div class="col p-1 rounded rounded-pill search-div">
                    <div class="input-group">
                      <input type="search" id="search-value" placeholder="Search a film" aria-describedby="button-addon1" class="form-control border-0 rounded-pill" onchange=window._fns.PopulateCards()>
                      <div class="input-group-append">
                        <button id="button-addon1" type="submit" class="btn btn-link text-primary"><i class="fa fa-search"></i></button>
                      </div>
                    </div>
                </div>
              </div>

            </div>

            <!-- <div class="row">

              

              
            </div> -->

          </div>

          <div class="content-main container-fluid">
            
              <div class="row content-main-row">
                  
                <template id="movies-card">
                  
                 <div class="col-md-4 col-lg-3 col-xl-2 col-sm-6 py-2">
                    <div class="card">
                          <img class="card-img-top img-fluid" src="assets/avengers.jfif" alt="avengers">
                          <div class="card-block">
                              <h4 class="card-title">Avengers Endgame</h4>

                              <div class="card-stats">
                                <i class="fa-solid fa-star ratings-icon"></i>
                                <div class="stats-icon">    
                                  <p class="card-text movie-ratings">4.5</p>
                                </div>

                                <i class="fa-regular fa-sm fa-eye views-icon"></i>
                                <div class="stats-icon">
                                  <p class="card-text movie-views">34.5k</p>
                                </div>

                                <i class="fa-solid fa-sm fa-heart likes-icon"></i>
                                <div class="stats-icon">
                                  <p class="card-text movie-likes">10k</p>
                                </div>
                              </div>

                          </div>
                      </div>
                   </div>

                   
                </template>

               </div>
               

          </div>

          <div class="content-footer">
            
            <nav class="pagination-div">
              <ul class="pagination">
                <li class="page-item disabled" onclick=window._fns.PrevPage()>
                  <i class="page-link fa-solid fa-md fa-angles-left"></i>
                </li>
                <!--  page-link-current  for curr class -->
                
                <template id="movie-pages">
                  <li class="page-item">
                    <a class="page-link" href="#">1</a>
                  </li>  
                </template>
                
                <li class="page-item" onclick=window._fns.NextPage()>
                  <i class="page-link fa-solid fa-md fa-angles-right"></i>
                </li>
              </ul>
            </nav>

          </div>
      </div>

    </section>

    <section id="footer">
      
      <div class="footer footer-dark">
        <div class="footer-navlinks-div">
          <ul class="footer-navlinks">
            <li class="footer-navlink footer-navlink-dark">
              <a href="#">About Us</a>
            </li>
            <li class="footer-navlink footer-navlink-dark">
              <a href="#">Contact</a>
            </li>
            <li class="footer-navlink footer-navlink-dark">
              <a href="#">API</a>
            </li>
          </ul>
        </div>

        <div class="footer-social">
          <a href="http://www.linkedin.com/reviewreel" class=" social-icon">  
            <i class="fa-brands fa-xl fa-linkedin linkedin-logo">
            </i>
          </a>

          <div class="social-sep-line social-sep-line-dark"></div>

          <a href="http://www.facebook.com/reviewreel" class=" social-icon">
            <i class="fa-brands fa-xl fa-facebook  facebook-logo"></i>
          </a>

        
          <div class="social-sep-line social-sep-line-dark"></div>

          <a href="http://www.instagram.com/reviewreel" class=" social-icon">
             <i class="fa-brands fa-2x fa-instagram  instagram-logo"></i>
          </a>

          <div class="social-sep-line social-sep-line-dark"></div>

          <a href="http://www.twitter.com/reviewreel" class=" social-icon">
            <i class="fa-brands fa-xl fa-twitter twitter-logo"></i>
          </a>
          
        </div>

        <div class="footer-info">
          <span>&copy; Review Reel Limited</span>
          <div class="footer-info-sep-line"></div>
          <span>Desktop Site</span>
          <span>Mobile Site</span>
        </div>
      </div>

    </section>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </body>
</html>